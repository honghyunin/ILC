# 클러스터

> 클러스터 : 하나의 데이터베이스를 여러 개의 서버로 구축되는 경우

## 고가용성

데이터베이스(이하 DB)가 동작하는 시간과 정지한 시간의 비율

즉, DB를 사용한 동안 정지한 시간을 비율로 나타낸 것

DB가 특정 이유로 멈출 때, 서버가 하나라면 서비스는 DB가 복구될 때까지 정지되는 장애가 발생한다.

이처럼 한 부분의 문제가 전체 시스템을 정지시키는 것을 SPOF(Single Point of Failure)라고 한다. 이를 해결하기 위해 고가용성 클러스트를 사용한다.


## 병렬처리

테이블에 데이터가 많고 컬럼도 많아 SQL문이 복잡하게 될 경우 실행하는 데 많은 시간이 소요된다.

이런 상황에서 DB를 병렬처리해서 결과를 통합하여 넘겨준다면 훨씬 빠르게 결과를 얻을 수 있다.

복제 DB는 항상 원본 DB와 같은 데이터를 가지고 있기 때문에 DML(SELECT, INSERT, UPDATE, DELETE)을 고려해서 분산시키면 전체적인 성능 향상을 시킬 수 있다.

## 성능향상

DB를 사용하는 사용자가 엄청 많을 경우
DB의 복제본을 만들어 참조 처리의 경우 복제 DB를 사용하면 사용자가 많아도 대비할 수 있다.

## 정리 

한 마디로 정리하자면 장애가 발생했을 때 서비스가 중단되지 않고, 병렬적으로 쿼리를 실행하여 빠르게 결과를 제공할 수 있는 데이터베이스를 데이터베이스 클러스터 라고 한다.

## 클러스터링

DB 분산 기법 중 하나로 DB 서버를 여러 개 두어 하나가 꺼졌을 때 다른 하나로 대비하는 기법

1) Active Clustering

여러 개의 서버가 같은 스토레지를 사용하고, 각 서버를 Active 상태로 둠

- CPU와 메모리 이용률 향상
- 저장소 하나를 여러 서버가 공유하여 병목현상이 발생
- 서버를 여러 대 한 번에 운영하여 추가 비용 발생

2) Standby Clustering
여러 개의 서버중 하나만 Active(가동)하고, 나머지는 Standby(준비) 상태로 둠

- Active Clustering에 비해 적은 비용
- 서버가 다운되었을 때 Standby 상태의 서버를 Active 상태로 전환할 때 시간이 소요된다.